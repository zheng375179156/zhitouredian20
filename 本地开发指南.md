# 本地开发快速指南

## 🚀 启动方式

### 方式一：完整开发模式（推荐）

同时启动前端和API服务器：

```bash
npm run dev:full
```

- 前端: http://localhost:3000
- API服务器: http://localhost:3001

### 方式二：仅前端（需要外部API）

```bash
npm run dev
```

前端: http://localhost:3000

## ⚙️ 配置API密钥

### 方法1：在应用内配置（推荐）

1. 启动应用后，点击右上角 ⚙️ 设置图标
2. 选择引擎（DeepSeek 或 Gemini）
3. 输入对应的API Key
4. 点击保存

### 方法2：环境变量

创建 `.env.local` 文件：

```
DEEPSEEK_API_KEY=your_key_here
GEMINI_API_KEY=your_key_here
```

## 🔧 故障排除

### 问题：本地运行无法获取数据

**原因**: API路由需要服务器环境

**解决**:
1. 使用 `npm` 启动完整环境
2. 确保API服务器在3001端口运行
3. 检查浏览器控制台是否有错误

### 问题：联网运行无法打开网址

**原因**: 部署配置问题

**解决**:
1. 检查Vercel部署日志
2. 确认环境变量已配置
3. 检查 `vercel.json` 配置

### 问题：端口冲突

如果3000或3001端口被占用：

```bash
# 修改端口（在vite.config.ts中）
server: {
  port: 3002,  // 改为其他端口
}

# 修改API端口（在server-local.js中）
const PORT = process.env.API_PORT || 3003;
```

## 📝 API密钥获取

- **DeepSeek**: https://platform.deepseek.com/
- **Gemini**: https://makersuite.google.com/app/apikey

## 🎯 开发提示

1. 首次运行需要安装依赖: `npm install`
2. API服务器会自动处理CORS
3. 所有API请求会通过Vite代理转发
4. 修改代码后会自动热重载
